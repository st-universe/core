#!/usr/bin/env php
<?php
declare(strict_types=1);

use Ahc\Cli\IO\Interactor;
use Noodlehaus\ConfigInterface;
use Psr\Container\ContainerInterface;
use Stu\Config\Init;

require_once __DIR__ . '/../vendor/autoload.php';

Init::run(
    function (ContainerInterface $dic): void {
        $app = new Ahc\Cli\Application(
            'Star Trek Universe CLI',
            $dic->get(ConfigInterface::class)->get('game.version')
        );
        $app->io(new Interactor());

        $logo = <<<LOGO
          .dBBBBP  dBBBBBBP dBP dBP    dBBBP  dBP    dBP
          BP
          `BBBBb    dBP   dBP dBP    dBP    dBP    dBP
             dBP   dBP   dBP_dBP    dBP    dBP    dBP
        dBBBBP'   dBP   dBBBBBP    dBBBBP dBBBBP dBP
        LOGO;

        $app->logo($logo);

        $app->handle($_SERVER['argv']);
    }
);
