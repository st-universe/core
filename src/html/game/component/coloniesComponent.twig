{% from 'html/macros.twig' import onClickColony %}

<div class="header_box header_box_col border_box">
    {% for colony in USER_COLONIES %}
    {% set colonyClass = colony.getColonyClass %}
    {% set colonyClassId = colonyClass.getId %}
    {% set title = colony.getName|bbcode2txt %}
    {% set system = colony.getSystem %}
    {% set systemString = system.getName ~ '-System ('~ system.getCx ~'|'~ system.getCy ~')' %}
    {% set tooltip = "<table class='tcal'>
        <tr>
            <th>Kolonieinformationen: " ~ title ~ "</th>
        </tr>
        <tr>
            <td>Koordinaten: " ~ colony.getSx ~ "|" ~ colony.getSy ~ "<br>System: " ~ systemString|bbcode2txt
                ~ "<br>EPS: " ~ colony.getChangeable.getEps ~ "/" ~ colony.getMaxEps ~ "<br>Lager: " ~
                colony.getStorageSum ~ "/" ~ colony.getMaxStorage ~ "</td>
        </tr>
    </table>" %}

    {% if colonyClass.isMoon %}
    {% set heightAndWidth = 'height: 50px; width: 30px;' %}
    {% elseif colonyClass.isAsteroid %}
    {% set heightAndWidth = 'height: 50px; width: 40px;' %}
    {% endif %}
    <a {{ onClickColony(colony) }} style="{{ heightAndWidth }}margin: 7px 5px 7px 5px; text-align: center; float: left"
        class="action" data-tippy-content="{{ tooltip }}" data-tippy-allowHTML="true">
        <img src="/assets/planets/{{ colonyClassId }}.png" {% if not colonyClass.isPlanet
            %}style="position:relative; margin-top: 10px;" {% endif %} />
    </a>
    {% endfor %}
</div>
<script>
  tippy('[data-tippy-content]');
</script>
