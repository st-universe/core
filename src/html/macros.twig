{% macro useravatar(user) %}
<div class="userAvatar">
    <a href="/userprofile.php?uid={{ user.getId }}">
        {% if user.getAvatar %}
        <img src="/{{ ASSET_PATHS.user }}/{{ user.getAvatar }}.png" title="{{ user.getName|bbcode2txt }}" />
        {% else %}
        <img src="/{{ ASSET_PATHS.faction }}/{{ user.getFactionId }}kn.png" title"{{ user.getName|bbcode2txt }}" />
        {% endif %}
    </a>
</div>
{% endmacro %}

{% macro navigation_item(title, url, iconUrl) %}
{% set linkid = 'nav_item_' ~ iconUrl %}
<div class="navigation_item border_box" onmousedown="if(event.button === 0) { window.location.href='{{ url }}'; }"
    onmouseover="cp('{{ linkid }}','navigation/menu_{{ iconUrl }}1', 'png')"
    onmouseout="cp('{{ linkid }}','navigation/menu_{{ iconUrl }}0', 'png')">
    <a class="navitem_link" href="{{ url }}">
        <img class="navitem_img" src="/assets/navigation/menu_{{ iconUrl }}0.png" id="{{ linkid }}"
            title="{{ title }}" />
        <div class="navitem_title">{{ title }}</div>
    </a>
</div>
{% endmacro %}

{% macro navigation(hasStationsNavigation, isAdmin) %}
{{ _self.navigation_item('Kolonien', 'colony.php', 'planets') }}
{{ _self.navigation_item('Schiffe', 'ship.php', 'ships') }}
{% if hasStationsNavigation %}
{{ _self.navigation_item('Stationen', 'station.php', 'station') }}
{% endif %}
{{ _self.navigation_item('KommNet', 'comm.php', 'comm') }}
{{ _self.navigation_item('Nachrichten', 'pm.php', 'msg') }}
{{ _self.navigation_item('Forschung', 'research.php', 'forsch') }}
{{ _self.navigation_item('Handel', 'trade.php', 'trade') }}
{{ _self.navigation_item('Allianz', 'alliance.php', 'ally') }}
{{ _self.navigation_item('Datenbank', 'database.php', 'data') }}
{{ _self.navigation_item('Ereignisse', 'history.php', 'history') }}
{{ _self.navigation_item('Karte', 'starmap.php', 'map') }}
{% if isAdmin %}
{{ _self.navigation_item('Admin', '/admin', 'ticks') }}
{% endif %}
{% endmacro %}

{% macro adminnavigation() %}
{{ _self.navigation_item('Spielerliste', '/admin/?SHOW_PLAYER_LIST=1', 'ally') }}
{{ _self.navigation_item('Nachrichten', '/admin/?SHOW_MASS_MAIL=1', 'msg') }}
{{ _self.navigation_item('Karteneditor', '/admin/?SHOW_MAP_EDITOR=1&layerid=1', 'map') }}
{{ _self.navigation_item('Kolonie-Sandbox', '/admin/?SHOW_COLONY_SANDBOX=1', 'sandbox') }}
{{ _self.navigation_item('Ticks', '/admin/?SHOW_TICKS=1', 'ticks') }}
{{ _self.navigation_item('Skripte', '/admin/?SHOW_SCRIPTS=1', 'scripts') }}
{% endmacro %}

{% macro coloniesnavlet(colonies) %}
{% for item in colonies %}
{% if item['type'] == 1 %}
<a href="colony.php?SHOW_COLONY=1&id={{ item.colonyid }}"
    style="margin: 7px 5px 7px 5px; text-align: center; float: left" class="action">
    <img src="assets/planets/{{ item.classid }}.png" title="{{ item.nameandsector|bbcode2txt }}" />
</a>
{% elseif item['type'] == 2 %}
<a href="colony.php?SHOW_COLONY=1&id={{ item.colonyid }}"
    style="height: 50px; width: 30px; margin: 7px 5px 7px 5px; text-align: center; float: left" class="action">
    <img src="assets/planets/{{ item.classid }}.png" title="{{ item.nameandsector|bbcode2txt }}"
        style="position:relative; margin-top: 10px;" />
</a>
{% else %}
<a href="colony.php?SHOW_COLONY=1&id={{ item.colonyid }}"
    style="height: 50px; width: 40px; margin: 7px 5px 7px 5px; text-align: center; float: left" class="action">
    <img src="assets/planets/{{ item.classid }}.png" title="{{ item.nameandsector|bbcode2txt }}"
        style="position:relative; margin-top: 10px;" />
</a>
{% endif %}
{% endfor %}
{% endmacro %}
